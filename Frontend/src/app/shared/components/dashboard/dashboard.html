<!-- Header Component - Persistent across all pages -->
<app-header></app-header>

<!-- Dashboard Container - Full Page -->
<div class="dashboard-container">
  <div class="dashboard-content">
    <!-- System Statistics -->
  <div class="statistics-section">
    <h2 class="section-title">
      <mat-icon>analytics</mat-icon>
      Estadísticas del Sistema
    </h2>
    <!-- Grid de estadísticas - 4 tarjetas en una fila -->
    <div class="stats-grid">
      
      <!-- Tarjeta 1: Usuarios Totales -->
      <!-- Muestra el número total de usuarios registrados en el sistema -->
      <mat-card class="stat-card users-stat">
        <mat-card-content>
          <!-- Icono de usuarios -->
          <div class="stat-icon">
            <mat-icon>people</mat-icon>
          </div>
          <!-- Información de la estadística -->
          <div class="stat-info">
            <!-- Número principal: total de usuarios -->
            <h3 class="stat-number">{{ systemStats().totalUsers }}</h3>
            <!-- Etiqueta descriptiva -->
            <p class="stat-label">Usuarios Totales</p>
            <!-- Indicador de cambio: usuarios nuevos este mes -->
            <span class="stat-change positive">+{{ systemStats().newUsersThisMonth }} este mes</span>
          </div>
        </mat-card-content>
      </mat-card>

      <!-- Tarjeta 2: Órdenes Listas -->
      <!-- Muestra el número de órdenes en estado "Listo" del módulo de máquinas -->
      <mat-card class="stat-card orders-stat">
        <mat-card-content>
          <!-- Icono de check/completado -->
          <div class="stat-icon">
            <mat-icon>check_circle</mat-icon>
          </div>
          <!-- Información de la estadística -->
          <div class="stat-info">
            <!-- Número principal: órdenes listas -->
            <h3 class="stat-number">{{ systemStats().readyOrders }}</h3>
            <!-- Etiqueta descriptiva -->
            <p class="stat-label">Órdenes Listas</p>
            <!-- Indicador de cambio: órdenes completadas hoy -->
            <span class="stat-change positive">+{{ systemStats().readyToday }} hoy</span>
          </div>
        </mat-card-content>
      </mat-card>

      <!-- Tarjeta 3: Diseños Totales -->
      <!-- Muestra el número total de diseños en el sistema -->
      <mat-card class="stat-card designs-stat">
        <mat-card-content>
          <!-- Icono de diseño -->
          <div class="stat-icon">
            <mat-icon>design_services</mat-icon>
          </div>
          <!-- Información de la estadística -->
          <div class="stat-info">
            <!-- Número principal: diseños totales -->
            <h3 class="stat-number">{{ systemStats().totalDesigns }}</h3>
            <!-- Etiqueta descriptiva -->
            <p class="stat-label">Diseños Totales</p>
            <!-- Indicador de cambio: diseños nuevos esta semana -->
            <span class="stat-change positive">+{{ systemStats().newDesignsThisWeek }} esta semana</span>
          </div>
        </mat-card-content>
      </mat-card>

      <!-- Tarjeta 4: Tiempos de Preparación -->
      <!-- Muestra el tiempo promedio de cambio de preparación de máquinas -->
      <mat-card class="stat-card times-stat">
        <mat-card-content>
          <!-- Icono de reloj/tiempo -->
          <div class="stat-icon">
            <mat-icon>schedule</mat-icon>
          </div>
          <!-- Información de la estadística -->
          <div class="stat-info">
            <!-- Número principal: tiempo promedio en minutos -->
            <h3 class="stat-number">{{ systemStats().averageSetupTime }} min</h3>
            <!-- Etiqueta descriptiva -->
            <p class="stat-label">Tiempo Promedio</p>
            <!-- Indicador de cambio: total de cambios realizados -->
            <span class="stat-change neutral">{{ systemStats().totalSetupChanges }} cambios</span>
          </div>
        </mat-card-content>
      </mat-card>

    </div>
  </div>

  <!-- Quick Actions -->
  <div class="quick-actions">
    <h2 class="section-title">
      <mat-icon>flash_on</mat-icon>
      Acciones Rápidas
    </h2>
    <div class="actions-grid">
      
      <!-- Settings Button (only for Admin/Supervisor) -->
      <mat-card class="action-card settings-card" (click)="navigateToSettings()" *ngIf="canManageSettings()">
        <mat-card-content>
          <div class="card-icon">
            <mat-icon>settings</mat-icon>
          </div>
          <div class="card-content">
            <h3>Configuraciones</h3>
            <p>Administra usuarios y configuraciones del sistema</p>
          </div>
          <div class="card-arrow">
            <mat-icon>arrow_forward</mat-icon>
          </div>
        </mat-card-content>
      </mat-card>

      <!-- Reports Button -->
      <mat-card class="action-card reports-card" (click)="navigateToReports()">
        <mat-card-content>
          <div class="card-icon">
            <mat-icon>assessment</mat-icon>
          </div>
          <div class="card-content">
            <h3>Reportes</h3>
            <p>Visualiza estadísticas y reportes del sistema</p>
          </div>
          <div class="card-arrow">
            <mat-icon>arrow_forward</mat-icon>
          </div>
        </mat-card-content>
      </mat-card>



      <!-- Machines Button -->
      <mat-card class="action-card machines-card" (click)="navigateToMachines()">
        <mat-card-content>
          <div class="card-icon">
            <mat-icon>precision_manufacturing</mat-icon>
          </div>
          <div class="card-content">
            <h3>Máquinas</h3>
            <p>Gestiona y monitorea el estado de las máquinas</p>
          </div>
          <div class="card-arrow">
            <mat-icon>arrow_forward</mat-icon>
          </div>
        </mat-card-content>
      </mat-card>

      <!-- Design Button -->
      <mat-card class="action-card design-card" (click)="navigateToDesign()">
        <mat-card-content>
          <div class="card-icon">
            <mat-icon>design_services</mat-icon>
          </div>
          <div class="card-content">
            <h3>Diseño</h3>
            <p>Crea y gestiona diseños flexográficos</p>
          </div>
          <div class="card-arrow">
            <mat-icon>arrow_forward</mat-icon>
          </div>
        </mat-card-content>
      </mat-card>

      <!-- Documento Button -->
      <mat-card class="action-card documento-card" (click)="navigateToDocumento()">
        <mat-card-content>
          <div class="card-icon">
            <mat-icon>folder_open</mat-icon>
          </div>
          <div class="card-content">
            <h3>Documento</h3>
            <p>Gestiona y organiza documentos del sistema</p>
          </div>
          <div class="card-arrow">
            <mat-icon>arrow_forward</mat-icon>
          </div>
        </mat-card-content>
      </mat-card>

      <!-- Información Button -->
      <mat-card class="action-card informacion-card" (click)="navigateToInformacion()">
        <mat-card-content>
          <div class="card-icon">
            <mat-icon>info</mat-icon>
          </div>
          <div class="card-content">
            <h3>Información</h3>
            <p>Información del sistema y documentación</p>
          </div>
          <div class="card-arrow">
            <mat-icon>arrow_forward</mat-icon>
          </div>
        </mat-card-content>
      </mat-card>

      <!-- Condición Única Button -->
      <mat-card class="action-card condicion-unica-card" (click)="navigateToCondicionUnica()">
        <mat-card-content>
          <div class="card-icon">
            <mat-icon>inventory_2</mat-icon>
          </div>
          <div class="card-content">
            <h3>Condición Única</h3>
            <p>Gestiona artículos con ubicación física y carpetas</p>
          </div>
          <div class="card-arrow">
            <mat-icon>arrow_forward</mat-icon>
          </div>
        </mat-card-content>
      </mat-card>

    </div>
  </div>
  </div>
</div>