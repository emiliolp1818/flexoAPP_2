services:
  - type: web
    name: flexoAPP-backend
    env: docker
    plan: free
    dockerfilePath: ./Dockerfile.backend
    healthCheckPath: /health
    envVars:
      - key: ASPNETCORE_ENVIRONMENT
        value: Production
      - key: DATABASE_URL
        sync: false  # Must be set manually in Render dashboard

  - type: web
    name: flexoAPP-frontend
    env: static
    plan: free
    buildCommand: cd Frontend && npm install && npm run build:prod
    staticPublishPath: Frontend/dist/flexoapp/browser
